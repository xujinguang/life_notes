## Bazel

### WORKSPACE

用于指定当前文件夹就是一个Bazel的工作区。工作区是一个存放了所有源代码和Bazel编译输出文件的目录，也就是整个项目的根目录，WORKSPACE文件总是存在于项目的根目录下。所有include文件都是相对于此。

### BUILD

如果工作区中的一个目录包含BUILD文件，那么它就是一个package。一个BUILD文件包含了几种不同类型的指令。其中最重要的是编译指令，它告诉Bazel如何编译想要的输出。

1. package
2. target
3. label
4. rule

### Rule

copts - 可以指定gcc的 -I 参数。能用COPTS就不要用includes

### 依赖

**实际依赖图**和**声明依赖图**。前者是在BUILD文件里面通过**deps属性**声明的依赖所形成的依赖图，后者则是在代码里面通过**#include**依赖文件形成的依赖图。

存在传递依赖，比如A->B->C,那么A不用显示依赖C，因为B->C,所以可以编译。不推荐使用，因为，一旦移除了B，那么A->C就不通了，此时就要修改A的依赖。维护困难，而且在实际使用中也不方便理解，编译慢。所以，所有依赖都实际依赖方式指明，全家桶的引入不推荐。依赖传递引发的两个天问：

1. 竟然不可以运行，为什么？（传递依赖中间某一环断裂了）
2. 竟然可以运行，为什么？（传递依赖）



