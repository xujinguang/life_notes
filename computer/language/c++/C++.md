## C++

### 优化

1. 计算函数，代码调用次数和耗时，使用gettimeofday精确到1us，最精确的使用rdtsc时钟周期

2. 注销掉函数，写一个mock，看时间对比差

3. 中断事件频发的位置

4. 缓存失效,CPU有没有锁内存总线

   1. 小数组比map快，因为数组可以被cpu cache住。
   2. CPU 缓存命中可以花费程序 10–20 个时钟周期。外部缓存命中可以花费 20–40 个时钟周期。页错误可以花费 10000 个时钟周期（假定处理器每秒处理 500,000,000 个指令并且一个页错误是 2 毫秒）。因此，编写减少缓存未命中和页错误数的代码对程序执行最重要。
   3. 

5. 内存不足

6. 读写磁盘

7. 性能分析工具--callgrind，gprof

   

